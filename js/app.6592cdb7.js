(function(e){function t(t){for(var a,s,l=t[0],o=t[1],c=t[2],f=0,d=[];f<l.length;f++)s=l[f],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],a=!0,l=1;l<r.length;l++){var o=r[l];0!==i[o]&&(a=!1)}a&&(n.splice(t--,1),e=s(s.s=r[0]))}return e}var a={},i={app:0},n=[];function s(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=a,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(r,a,function(t){return e[t]}.bind(null,a));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/diablo2-tools/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=o;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"0ad0":function(e,t,r){},"2f4c":function(e,t,r){"use strict";r("e5e2")},"3cc0":function(e,t,r){"use strict";r("cb54")},"476b":function(e,t,r){},"4cd9":function(e,t,r){"use strict";r("0ad0")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("nav-sidebar",{staticClass:"sidebar"}),r("div",{staticClass:"page-wrapper",attrs:{id:"page-wrapper"}},[r("div",{staticClass:"content",attrs:{id:"content"}},[r("router-view")],1)])],1)},n=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",{staticClass:"sidebar",attrs:{id:"sidebar"}},[r("div",{staticClass:"sidebar-scrollbox"},[r("ol",{staticClass:"toc"},[r("li",{staticClass:"chapter"},[r("router-link",{attrs:{to:{name:"home"}}},[r("strong",[e._v("Diablo 2 Tools")])])],1),e._m(0),r("li",{staticClass:"section"},[r("router-link",{attrs:{to:{name:"imbue-calculator"}}},[e._v("Imbue Level Calculator")])],1),r("li",{staticClass:"section"},[r("router-link",{attrs:{to:{name:"simple-imbue-calculator"}}},[e._v("Imbue Affix Level Calculator")])],1)])]),r("div",{staticClass:"sidebar-resize-handle",attrs:{id:"sidebar-resize-handle"}})])},l=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"chapter"},[r("a",{attrs:{href:"#"}},[e._v("Imbuing")])])}],o={name:"NavSidebar"},c=o,u=(r("96b3"),r("2877")),f=Object(u["a"])(c,s,l,!1,null,null,null),d=f.exports,m={name:"App",components:{NavSidebar:d}},p=m,h=(r("034f"),Object(u["a"])(p,i,n,!1,null,null,null)),v=h.exports,x=r("8c4f"),y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"calculator-container"}},[r("div",{attrs:{id:"affix-search-container"}},[r("label",{attrs:{for:"affix-search"}},[e._v("Search affixes")]),r("autocomplete",{attrs:{id:"affix-search",placeholder:"Search affixes...",searchList:e.affixes,filter:function(t){return!e.added.map((function(e){return e.group})).includes(t.group)},display:"affix-display"},on:{selected:e.selected}}),r("div",{staticClass:"information"},[e._v("*Note: only results for Armor are shown at this time")]),r("div",{staticClass:"error"},[e._v(e._s(this.errorMessage))])],1),r("div",{attrs:{id:"added-affixes"}},[r("h4",[e._v("Affix List")]),r("ul",e._l(e.added,(function(t,a){return r("added-affix",{key:t.text,attrs:{affix:t},on:{remove:function(t){return e.removeAffix(a)}}})})),1)]),r("div",{attrs:{id:"shared-item-types"}},[r("h4",[e._v("Shared item types")]),r("ul",e._l(e.itemTypes,(function(t){return r("li",{key:t.type},[e._v(e._s(t.type))])})),0)]),r("div",{attrs:{id:"calculate"}},[r("button",{on:{click:e.generateResults}},[e._v("Calculate")]),r("button",{on:{click:e.reset}},[e._v("Reset")])]),r("div",{attrs:{id:"results"}},e._l(e.results,(function(t,a){return r("div",{key:a},[r("h3",[e._v(e._s(a))]),r("item-type-table",{attrs:{items:t,added:e.added,type:a,affixes:e.affixes,maxAffixLevel:e.maxAffixLevel(a)}})],1)})),0)])},b=[],_=r("5530"),g=r("2909"),T=r("1da1"),w=(r("96cf"),r("a434"),r("d81d"),r("d3b7"),r("caad"),r("2532"),r("99af"),r("fb6a"),r("4de4"),r("7db0"),r("4e82"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"autocomplete-container"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"search",staticClass:"autocomplete",attrs:{type:"search",placeholder:e.placeholder},domProps:{value:e.searchText},on:{input:[function(t){t.target.composing||(e.searchText=t.target.value)},e.search],focus:e.search,blur:e.hide}}),r("ul",{directives:[{name:"show",rawName:"v-show",value:e.results.length>0||e.noResults,expression:"results.length > 0 || noResults"}],staticClass:"autocomplete-results"},[e.noResults?[r("li",[e._v("No results.")])]:e._l(e.results,(function(t,a){return r("li",{key:t.name+t.effect,on:{mousedown:function(t){return e.selected(a)}}},[r("affix-display",{attrs:{affix:t}})],1)}))],2)])}),C=[],A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._v(" "+e._s(e.affix.name)+" ("+e._s(e.affix.effect)+") "),r("span",{staticClass:"affix-type",class:e.affix.affix},[e._v(e._s(e.affix.affix))])])},j=[],O={name:"AffixDisplay",props:["affix"]},M=O,L=(r("e65a"),Object(u["a"])(M,A,j,!1,null,"12339aac",null)),q=L.exports,k={name:"Autocomplete",components:{AffixDisplay:q},props:{searchList:{type:Array,required:!0},placeholder:{type:String,required:!1},filter:{type:Function,required:!1}},data:function(){return{searchText:"",results:[],noResults:!1}},methods:{search:function(){var e=this;if(this.errorMessage="",this.noResults=!1,this.searchText.length<3)this.results=[];else{var t=this.searchList.filter((function(t){return t.name.toLowerCase().includes(e.searchText.toLowerCase())||t.effect.toLowerCase().includes(e.searchText.toLowerCase())}));if(this.filter){var r=t.filter((function(t){return e.filter(t)}));this.results=r.slice(0,15)}else this.results=t.slice(0,15);0===this.results.length&&(this.noResults=!0)}},selected:function(e){this.$emit("selected",this.results[e])},hide:function(){this.results=[],this.noResults=!1}}},I=k,R=(r("2f4c"),Object(u["a"])(I,w,C,!1,null,"23f63faf",null)),S=R.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("table",[e._m(0),r("tbody",[e._l(e.calcItems,(function(t,a){return[e.blankRows.includes(a)?r("tr",{key:a},[r("td",{attrs:{colspan:"5"}})]):e._e(),r("item-row",{key:t.name,attrs:{item:t}})]}))],2)])},$=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("thead",[r("th",[e._v("item")]),r("th",[e._v("min str")]),r("th",[e._v("min dex")]),r("th",[e._v("req lvl")]),r("th",[e._v("imbue at char level")])])}],E=(r("a9e3"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("td",[e._v(e._s(e.item.name))]),r("td",[e._v(e._s(e.item.reqStr||"-"))]),r("td",[e._v(e._s(e.item.reqDex||"-"))]),r("td",[e._v(e._s(e.item.reqLvl||"-"))]),r("td",[e._v(e._s(e._f("levelDisplay")(e.item)))])])}),N=[],H={name:"ItemRow",props:["item"],filters:{levelDisplay:function(e){return e.maxClvl<=e.minClvl?e.minClvl:"".concat(e.minClvl,"-").concat(e.maxClvl)}}},B=H,D=Object(u["a"])(B,E,N,!1,null,null,null),z=D.exports,G={components:{ItemRow:z},name:"ItemTypeTable",props:{items:{type:Array,required:!0},added:{type:Array,required:!0},affixes:{type:Array,required:!0},type:{type:String,required:!0},maxAffixLevel:{type:Number,required:!0}},data:function(){return{armorTypes:["Body Armor","Boots","Gloves","Helms","Pelts","Barbarian Helms","Belts","Shields","Paladin Shields","Heads"]}},methods:{findClvl:function(e,t,r){for(var a=8;a<=99;a++){var i=this.alvl(a,parseInt(e),parseInt(t));if(i>=r)return a}},alvl:function(e,t,r){var a,i=Math.max(e,8)+4;return i>99&&(i=99),t>i&&(i=t),a=r>0?i+r:i<99-Math.floor(t/2)?i-Math.floor(t/2):2*i-99,a>99&&(a=99),a},nextHighestAffix:function(e,t){var r=this,a=this.alvl(8,e.qLvl,e.mLvl),i=this.affixes.filter((function(e){return e.itemTypes.some((function(e){return r.affixTypeMatchesType(e)}))})),n=i.map((function(e){return{name:e.name,effect:e.effect,itemType:e.itemTypes.find((function(e){return r.affixTypeMatchesType(e)}))}})),s=n.filter((function(e){return parseInt(e.itemType.alvl)>Math.max(parseInt(t),a)})),l=s.sort((function(e,t){return e.itemType.alvl.localeCompare(t.itemType.alvl)})),o=l[0];return l.length>0?o:null},affixTypeMatchesType:function(e){return e.type===this.type||e.type===this.type+"s"||!("Armor"!==e.type||!this.armorTypes.includes(this.type))}},computed:{calcItems:function(){for(var e=new Array(this.items.length),t=0;t<this.items.length;t++){var r=this.items[t],a=Math.max(Math.floor(.75*this.maxAffixLevel),r.reqLvl||0),i=this.findClvl(r.qLvl,r.mLvl,this.maxAffixLevel),n=this.nextHighestAffix(r,this.maxAffixLevel),s=null===n?99:this.findClvl(r.qLvl,r.mLvl,n.itemType.alvl)-1;e[t]=Object(_["a"])(Object(_["a"])({},r),{},{minClvl:i,maxClvl:s,reqLvl:a,nextHighestAffix:n})}return e},blankRows:function(){if(this.items.length<5)return[];for(var e=[],t=this.items[0].tier,r=0;r<this.items.length;r++)this.items[r].tier!==t&&(e.push(r),t=this.items[r].tier);return e}}},J=G,F=(r("4cd9"),Object(u["a"])(J,P,$,!1,null,"dfc6f4a6",null)),W=F.exports,X=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("li",{staticClass:"added-affix"},[r("affix-display",{attrs:{affix:e.affix}}),r("span",{staticClass:"remove",on:{click:e.remove}},[e._v("X")])],1)},K=[],Q={name:"AddedAffix",components:{AffixDisplay:q},props:["affix"],methods:{remove:function(){this.$emit("remove")}}},U=Q,V=(r("8717"),Object(u["a"])(U,X,K,!1,null,"9c528582",null)),Y=V.exports,Z={name:"ImbueCalculator",components:{Autocomplete:S,ItemTypeTable:W,AddedAffix:Y},data:function(){return{prefixes:[],suffixes:[],groups:[],added:[],errorMessage:"",results:[],armorTypes:["Body Armor","Boots","Gloves","Helms","Pelts","Barbarian Helms","Belts","Shields","Paladin Shields","Heads"]}},methods:{removeAffix:function(e){this.added.splice(e,1)},generateResults:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){var r,a,i,n,s,l,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="/diablo2-tools",e.results=[],a=e.itemTypes.map((function(e){return e.type})),t.next=5,fetch(r+"/data/armor.json");case 5:return i=t.sent,t.next=8,i.json();case 8:n=t.sent,s=n.armor,l=s,o=l.reduce((function(e,t){if(!t.types)return e;for(var r=0;r<t.types.length;r++){var i=t.types[r];(a.includes(i)||a.includes(i+"s"))&&(e[i]=e[i]||[]).push(t)}return e}),{}),e.results=o;case 13:case"end":return t.stop()}}),t)})))()},reset:function(){this.added=[],this.results=[],this.errorMessage=""},expandArmorTypes:function(e){var t=e.map((function(e){return e.type})).indexOf("Armor");if(t<0)return e;for(var r=e[t],a=new Array(this.armorTypes.length),i=0;i<this.armorTypes.length;i++)a[i]={alvl:r.alvl,rarity:r.alvl,type:this.armorTypes[i]};return[].concat(Object(g["a"])(e.slice(0,t)),a,Object(g["a"])(e.slice(t+1,e.length)))},addAffix:function(e){var t=this,r=this.added.filter((function(e){return"prefix"===e.affix})).length,a=this.added.filter((function(e){return"suffix"===e.affix})).length;if(3!==r||"prefix"!==e.affix)if(3!==a||"suffix"!==e.affix){if(this.added.length>0){var i=this.itemTypes.map((function(e){return e.type})),n=e.itemTypes.map((function(e){return e.type}));if(i.includes("Armor")&&!n.includes("Armor")&&n.some((function(e){return t.armorTypes.indexOf(e)>=0})))for(var s=0;s<this.added.length;s++)this.added[s].itemTypes=this.expandArmorTypes(this.added[s].itemTypes);n.includes("Armor")&&!i.includes("Armor")&&i.some((function(e){return t.armorTypes.indexOf(e)>=0}))&&(e.itemTypes=this.expandArmorTypes(e.itemTypes))}this.added.push(e)}else this.errorMessage="Max number of suffixes reached";else this.errorMessage="Max number of prefixes reached"},selected:function(e){this.errorMessage="",this.addAffix(e),0===this.itemTypes.length&&(this.added.pop(),this.errorMessage="Cannot add affix -- combination of affixes cannot exist on any item.")},maxAffixLevel:function(e){for(var t=[],r=0;r<this.added.length;r++){var a=this.added[r].itemTypes.find((function(t){return t.type===e||t.type===e+"s"}));if(!a)return console.error("could not find ".concat(e," in ").concat(this.added[r].itemTypes)),"not found";t.push(parseInt(a.alvl)||0)}return Math.max.apply(Math,t)}},computed:{affixes:function(){if(0===this.prefixes.length||0===this.suffixes)return[];var e=[].concat(Object(g["a"])(this.prefixes),Object(g["a"])(this.suffixes));return e.sort((function(e,t){return e.effect.localeCompare(t.effect)}))},itemTypes:function(){var e=this;if(0===this.added.length)return[];if(1===this.added.length)return this.added[0].itemTypes;for(var t=this.added[0].itemTypes,r=function(r){var a=t.filter((function(t){return e.added[r].itemTypes.map((function(e){return e.type})).includes(t.type)}));if(t=a,0===t.length)return"break"},a=1;a<this.added.length;a++){var i=r(a);if("break"===i)break}return t}},filters:{affixDisplay:function(e){return"".concat(e.name," (").concat(e.effect,"), alvl ").concat(e.alvl)}},mounted:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){var r,a,i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r="/diablo2-tools",t.next=3,fetch(r+"/data/prefixes.json");case 3:return a=t.sent,t.next=6,fetch(r+"/data/suffixes.json");case 6:return i=t.sent,t.next=9,a.json();case 9:return n=t.sent,t.next=12,i.json();case 12:s=t.sent,e.prefixes=n.prefixes.reduce((function(e,t){var r=t.itemTypes.filter((function(e){return"rare"===e.rarity}));return r.length>0&&e.push(Object(_["a"])(Object(_["a"])({},t),{},{itemTypes:r,affix:"prefix"})),e}),[]),e.suffixes=s.suffixes.reduce((function(e,t){var r=t.itemTypes.filter((function(e){return"rare"===e.rarity}));return r.length>0&&e.push(Object(_["a"])(Object(_["a"])({},t),{},{itemTypes:r,affix:"suffix"})),e}),[]);case 15:case"end":return t.stop()}}),t)})))()}},ee=Z,te=(r("6f7b"),Object(u["a"])(ee,y,b,!1,null,null,null)),re=te.exports,ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("p",[e._v("Calculate the maximum affix level of an imbued item.")]),r("p",[e._v("The affix level of an item determines which prefixes and suffixes can spawn on it. Any affix with an affix level less than or equal to the item's affix level may show up. When imbuing, the affix level of the resultant item is determined by your character's level and some internal properties of the item you give to Charsi.")]),r("div",{staticClass:"content-wrapper"},[r("div",{attrs:{id:"calc-wrapper"}},[r("label",{attrs:{for:"clvl"}},[e._v("Character Level")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.clvl,expression:"clvl"}],attrs:{type:"number",id:"clvl",min:"8",max:"99",placeholder:"8-99"},domProps:{value:e.clvl},on:{input:function(t){t.target.composing||(e.clvl=t.target.value)}}}),r("label",{attrs:{for:"qlvl"}},[e._v("Item qlvl")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.qlvl,expression:"qlvl"}],attrs:{type:"number",id:"qlvl",min:"1",max:"99"},domProps:{value:e.qlvl},on:{input:function(t){t.target.composing||(e.qlvl=t.target.value)}}}),r("label",{attrs:{for:"mlvl"}},[e._v("Item Magic Level")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.mlvl,expression:"mlvl"}],attrs:{type:"number",id:"mlvl",min:"0",max:"99"},domProps:{value:e.mlvl},on:{input:function(t){t.target.composing||(e.mlvl=t.target.value)}}})]),r("h3",{directives:[{name:"show",rawName:"v-show",value:e.alvl&&this.clvl.length>0,expression:"alvl && this.clvl.length > 0"}]},[e._v("Calculated alvl is "+e._s(e.alvl))])])])},ie=[],ne={name:"SimpleImbueCalculator",data:function(){return{clvl:"",qlvl:"",mlvl:""}},computed:{alvl:function(){var e,t=parseInt(this.clvl)||1,r=parseInt(this.qlvl)||0,a=parseInt(this.mlvl)||0,i=Math.max(t,1)+4;return i>99&&(i=99),r>i&&(i=r),e=a>0?i+a:i<99-Math.floor(r/2)?i-Math.floor(r/2):2*i-99,e>99&&(e=99),e}}},se=ne,le=(r("3cc0"),Object(u["a"])(se,ae,ie,!1,null,"2ea49320",null)),oe=le.exports;a["a"].use(x["a"]);var ce=[{path:"/",redirect:"/imbue-calculator",name:"home",component:re},{path:"/imbue-calculator",name:"imbue-calculator",component:re},{path:"/imbue-affix-level-calculator",name:"simple-imbue-calculator",component:oe}],ue=new x["a"]({base:"/diablo2-tools",routes:ce}),fe=ue;a["a"].config.productionTip=!1,new a["a"]({render:function(e){return e(v)},router:fe}).$mount("#app")},"6f7b":function(e,t,r){"use strict";r("b10a")},"85ec":function(e,t,r){},8717:function(e,t,r){"use strict";r("fac2")},"96b3":function(e,t,r){"use strict";r("da83")},b10a:function(e,t,r){},cb54:function(e,t,r){},da83:function(e,t,r){},e5e2:function(e,t,r){},e65a:function(e,t,r){"use strict";r("476b")},fac2:function(e,t,r){}});
//# sourceMappingURL=app.6592cdb7.js.map